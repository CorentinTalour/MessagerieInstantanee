@page "/"
@using MessagerieInstantanee.Objects
@inject MessagerieApiService MessagerieService


<div class="div-container">
    <div class="left">
        <h2>Colonne 1</h2>
        @if (_users == null || _isLoading == true)
        {
            <p>Chargement</p>
        }
        else
        {
            @foreach(var user in _users)
            {
                <div class="message">
                    <p>@user.Data.Nom</p>
                </div>
            }
        }
    </div>
    <div class="right">
        <h2>Colonne 2</h2>
        @* @if (_messages == null || _isLoading == true) *@
        @* { *@
        @*     <p>Chargement</p> *@
        @* } *@
        @* else *@
        @* { *@
        @*     @foreach(var message in _messages) *@
        @*     { *@
        @*         <div class="message"> *@
        @*             <p>@message.Data.Contenu</p> *@
        @*         </div> *@
        @*     } *@
        @* } *@
        <div class="messaging-app">
            <div class="messages">
                <div class="message received">Bonjour ! Comment ça va ?</div>
                <div class="message sent">Salut ! Je vais bien, merci. Et toi ?</div>
            </div>
            <div class="input-area">
                <input type="text" placeholder="Écrivez un message...">
                <button>Envoyer</button>
            </div>
        </div>
    </div>
</div>

<style>
    .messaging-app {
        display: flex;
        flex-direction: column;
        height: 98%; /* Prend toute la hauteur disponible */
    }

    .messages {
        flex: 1; /* Prend tout l'espace restant au-dessus de .input-area */
        padding: 10px;
        overflow-y: auto;
        border-bottom: 1px solid #ddd;
    }
    
        .message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            /*max-width: 70%;*/
        }

        .message.sent {
            background: #e0f7fa;
            align-self: flex-end;
        }

        .message.received {
            background: #f1f0f0;
            align-self: flex-start;
        }

    .input-area {
        display: flex;
        padding: 10px;
        border-top: 1px solid #ddd;
    }

        .input-area input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
        }

        .input-area button {
            margin-left: 10px;
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            background: #007bff;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }

        .input-area button:hover {
            background: #0056b3;
        }
    </style>